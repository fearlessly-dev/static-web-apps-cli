"use strict";(self.webpackChunkdocs_www=self.webpackChunkdocs_www||[]).push([[322],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=n,f=d["".concat(l,".").concat(m)]||d[m]||u[m]||o;return a?r.createElement(f,i(i({ref:t},c),{},{components:a})):r.createElement(f,i({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4328:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return u}});var r=a(7462),n=a(3366),o=(a(7294),a(3905)),i=["components"],s={sidebar_position:1},l="Serve App and API",p={unversionedId:"releases/0.8.3/api/app-api",id:"releases/0.8.3/api/app-api",title:"Serve App and API",description:"Azure Static Web Apps provides serverless API endpoints using Azure Functions, allowing your application to scale APIs dynamically with load. Learn more about API support in Azure Static Web Apps and how you can Add an API to your project that gets automatically managed by Azure Static Web Apps.",source:"@site/docs/releases/0.8.3/03-api/01-app-api.md",sourceDirName:"releases/0.8.3/03-api",slug:"/releases/0.8.3/api/app-api",permalink:"/static-web-apps-cli/docs/releases/0.8.3/api/app-api",editUrl:"https://github.com/azure/static-web-apps-cli/tree/main/docs/www/docs/releases/0.8.3/03-api/01-app-api.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Get CLI Help",permalink:"/static-web-apps-cli/docs/releases/0.8.3/quickstart/help"},next:{title:"Serve from Specific Folder",permalink:"/static-web-apps-cli/docs/releases/0.8.3/emulator/server-from-folder"}},c={},u=[{value:"1. Install Core Tools",id:"1-install-core-tools",level:2},{value:"2. Automatic Start",id:"2-automatic-start",level:2},{value:"3. Manual Start",id:"3-manual-start",level:2}],d={toc:u};function m(e){var t=e.components,a=(0,n.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"serve-app-and-api"},"Serve App and API"),(0,o.kt)("p",null,"Azure Static Web Apps provides serverless API endpoints using Azure Functions, allowing your application to scale APIs dynamically with load. Learn more about ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/static-web-apps/apis"},"API support in Azure Static Web Apps")," and how you can ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/static-web-apps/add-api?tabs=vanilla-javascript"},"Add an API")," to your project that gets automatically managed by Azure Static Web Apps."),(0,o.kt)("h2",{id:"1-install-core-tools"},"1. Install Core Tools"),(0,o.kt)("p",null,"To work with API functions in your local development environment, you must have ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/Azure/azure-functions-core-tools"},"Azure Functions Core Tools")," installed. ",(0,o.kt)("em",{parentName:"p"},"The SWA CLI will do this for you automatically"),"."),(0,o.kt)("h2",{id:"2-automatic-start"},"2. Automatic Start"),(0,o.kt)("p",null,"To serve both App and API concurrently, run the CLI and specify the folder that contains the API backend (a valid Azure Functions App project):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# static content plus API\nswa start ./my-dist --api-location ./api-folder\n")),(0,o.kt)("p",null,"If you want to use a front-end dev server, and have a unified command across all three, simply add ",(0,o.kt)("inlineCode",{parentName:"p"},"--api-location ./api-folder")," option to the unified command used earlier. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'# React dev server plus API\nswa start http://localhost:3000 --run "npm start" --api-location ./api-folder\n')),(0,o.kt)("h2",{id:"3-manual-start"},"3. Manual Start"),(0,o.kt)("p",null,"When developing your backend locally, sometimes it's useful to run ",(0,o.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local"},"Azure Functions Core Tools")," separately to serve your API. This allows you to use built-in features like debugging and rich editor support."),(0,o.kt)("p",null,"To use the CLI with your local API backend dev server, follow these two steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Debug directly in Visual Studio Code - or start your API using Azure Functions Core Tools as follows:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"func host start\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"In a separate terminal, run the SWA CLI with the ",(0,o.kt)("inlineCode",{parentName:"li"},"--api-location")," flag and the URI of the local API server:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"swa start ./my-dist --api-location http://localhost:7071\n")))}m.isMDXComponent=!0}}]);