"use strict";(self.webpackChunkdocs_www=self.webpackChunkdocs_www||[]).push([[50],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return h}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),s=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),m=s(a),h=n,d=m["".concat(p,".").concat(h)]||m[h]||c[h]||i;return a?r.createElement(d,l(l({ref:t},u),{},{components:a})):r.createElement(d,l({ref:t},u))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var s=2;s<i;s++)l[s]=a[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},264:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return c}});var r=a(7462),n=a(3366),i=(a(7294),a(3905)),l=["components"],o={sidebar_position:2},p="Build From Source",s={unversionedId:"contribute/developer",id:"contribute/developer",title:"Build From Source",description:"This document describes how to set up your development environment to build and test the Azure Static Web Apps CLI (SWA CLI).",source:"@site/docs/contribute/2-developer.md",sourceDirName:"contribute",slug:"/contribute/developer",permalink:"/static-web-apps-cli/docs/contribute/developer",editUrl:"https://github.com/azure/static-web-apps-cli/tree/main/docs/www/docs/contribute/2-developer.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Review Guidelines",permalink:"/static-web-apps-cli/docs/contribute/intro"},next:{title:"Contributors \ud83c\udf1f",permalink:"/static-web-apps-cli/docs/contribute/contributors"}},u={},c=[{value:"Prerequisite Software",id:"prerequisite-software",level:2},{value:"Getting the Sources",id:"getting-the-sources",level:2},{value:"Installing NPM Modules",id:"installing-npm-modules",level:2},{value:"Building",id:"building",level:2},{value:"Running Tests Locally",id:"running-tests-locally",level:2},{value:"Testing changes against a local project",id:"testing-changes-against-a-local-project",level:3},{value:"Formatting your source code",id:"formatting-your-source-code",level:2},{value:"Atom",id:"atom",level:3},{value:"Emacs:",id:"emacs",level:3},{value:"Espresso:",id:"espresso",level:3},{value:"Nova:",id:"nova",level:3},{value:"Sublime Text:",id:"sublime-text",level:3},{value:"Vim:",id:"vim",level:3},{value:"Visual Studio",id:"visual-studio",level:3},{value:"VS Code",id:"vs-code",level:3},{value:"WebStorm",id:"webstorm",level:3}],m={toc:c};function h(e){var t=e.components,a=(0,n.Z)(e,l);return(0,i.kt)("wrapper",(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"build-from-source"},"Build From Source"),(0,i.kt)("p",null,"This document describes how to set up your development environment to build and test the Azure Static Web Apps CLI (SWA CLI).\nIt also explains the basic mechanics of using ",(0,i.kt)("inlineCode",{parentName:"p"},"git"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"node"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"npm"),"."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#building-and-testing-azure-static-web-apps-cli-swa-cli"},"Building and Testing Azure Static Web Apps CLI (SWA CLI)"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#prerequisite-software"},"Prerequisite Software")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#getting-the-sources"},"Getting the Sources")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#installing-npm-modules"},"Installing NPM Modules")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#building"},"Building")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#running-tests-locally"},"Running Tests Locally"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#testing-changes-against-a-local-project"},"Testing changes against a local project")))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#formatting-your-source-code"},"Formatting your source code"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#atom"},"Atom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#emacs"},"Emacs:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#espresso"},"Espresso:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#nova"},"Nova:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#sublime-text"},"Sublime Text:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#vim"},"Vim:")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#visual-studio"},"Visual Studio")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#vs-code"},"VS Code")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#webstorm"},"WebStorm"))))))),(0,i.kt)("p",null,"See the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/azure/static-web-apps-cli/blob/main/CONTRIBUTING.md"},"contribution guidelines")," if you'd like to contribute to this project."),(0,i.kt)("h2",{id:"prerequisite-software"},"Prerequisite Software"),(0,i.kt)("p",null,"Before you can build and test SWA CLI, you must install and configure the following products on your development machine:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://git-scm.com/"},"Git")," and/or the ",(0,i.kt)("a",{parentName:"p",href:"https://desktop.github.com/"},(0,i.kt)("strong",{parentName:"a"},"GitHub app"))," (for Mac and Windows);\n",(0,i.kt)("a",{parentName:"p",href:"https://help.github.com/articles/set-up-git"},"GitHub's Guide to Installing Git")," is a good source of information.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://nodejs.org"},"Node.js"),", (version specified in the engines field of ",(0,i.kt)("a",{parentName:"p",href:"../package.json"},(0,i.kt)("inlineCode",{parentName:"a"},"package.json")),") which is used to run a development web server, run tests, and generate distributable files.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npm")," (version specified in the engines field of ",(0,i.kt)("a",{parentName:"p",href:"../package.json"},(0,i.kt)("inlineCode",{parentName:"a"},"package.json")),") which is used to install dependencies."))),(0,i.kt)("h2",{id:"getting-the-sources"},"Getting the Sources"),(0,i.kt)("p",null,"Fork and clone the SWA CLI repository:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Login to your GitHub account or create one by following the instructions given ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/signup/free"},"here"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("a",{parentName:"p",href:"https://help.github.com/forking"},"Fork")," the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/azure/static-web-apps-cli"},"main SWA CLI repository"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Clone your fork of the SWA CLI repository:"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/{YOUR_GITHUB_ACCOUNT}/static-web-apps-cli.git\n")),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"OPTIONAL"),": Clone a specific feature branch:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git clone -b BRANCH_NAME https://github.com/{YOUR_GITHUB_ACCOUNT}/static-web-apps-cli.git\n")),(0,i.kt)("ol",{start:5},(0,i.kt)("li",{parentName:"ol"},"Go to the SWA CLI directory:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"cd static-web-apps-cli\n")),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},"Define an ",(0,i.kt)("inlineCode",{parentName:"li"},"upstream")," remote pointing back to the SWA CLI repository that you forked in the first place")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git remote add upstream https://github.com/azure/static-web-apps-cli.git\n")),(0,i.kt)("h2",{id:"installing-npm-modules"},"Installing NPM Modules"),(0,i.kt)("p",null,"Next, install SWA CLI project dependencies defined in the ",(0,i.kt)("a",{parentName:"p",href:"../package.json"},(0,i.kt)("inlineCode",{parentName:"a"},"package.json")),") file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"npm install\n")),(0,i.kt)("h2",{id:"building"},"Building"),(0,i.kt)("p",null,"To build SWA CLI, run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"npm run build\n")),(0,i.kt)("p",null,"This step will create a ",(0,i.kt)("inlineCode",{parentName:"p"},"./dist")," folder containing the built project."),(0,i.kt)("p",null,"Test that the CLI is running as expected using the command:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"node dist/cli/bin.js -h\n")),(0,i.kt)("h2",{id:"running-tests-locally"},"Running Tests Locally"),(0,i.kt)("p",null,"You should execute all test suites before submitting a PR to GitHub."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"npm test")," will run all test suites.")),(0,i.kt)("h3",{id:"testing-changes-against-a-local-project"},"Testing changes against a local project"),(0,i.kt)("p",null,"Often for developers the best way to ensure the changes they have made work as expected is to run use changes in another library or project. To do this developers can build SWA CLI locally, and using ",(0,i.kt)("inlineCode",{parentName:"p"},"npm link")," build a local project with the created artifacts."),(0,i.kt)("p",null,"From the root folder of your project (where ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," is located), run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"npm link ./\n")),(0,i.kt)("p",null,"Now you can run ",(0,i.kt)("inlineCode",{parentName:"p"},"swa -h")," from anywhere in your system and this will run the CLI from your ",(0,i.kt)("inlineCode",{parentName:"p"},"./dist")," folder."),(0,i.kt)("p",null,"When making multiple changes to the project source files, you can run ",(0,i.kt)("inlineCode",{parentName:"p"},"npm run watch")," which will watch and rebuild the project on the fly"),(0,i.kt)("h2",{id:"formatting-your-source-code"},"Formatting your source code"),(0,i.kt)("p",null,"SWA CLI uses ",(0,i.kt)("a",{parentName:"p",href:"https://prettier.io/"},"prettier")," to format the source code. If the source code is not properly formatted, the CI will fail and the PR cannot be merged."),(0,i.kt)("p",null,"You can automatically format your code by running:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"npm run format"),": format ",(0,i.kt)("em",{parentName:"li"},"all")," source code")),(0,i.kt)("p",null,"A better way is to set up your IDE to format the changed file on each file save."),(0,i.kt)("h3",{id:"atom"},"Atom"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/prettier/prettier-atom"},"https://github.com/prettier/prettier-atom")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/t9md/atom-mprettier"},"https://github.com/t9md/atom-mprettier")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/duailibe/atom-miniprettier"},"https://github.com/duailibe/atom-miniprettier"))),(0,i.kt)("h3",{id:"emacs"},"Emacs:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/prettier/prettier-emacs"},"https://github.com/prettier/prettier-emacs")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/jscheid/prettier.el"},"https://github.com/jscheid/prettier.el")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/raxod502/apheleia"},"https://github.com/raxod502/apheleia"))),(0,i.kt)("h3",{id:"espresso"},"Espresso:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/eablokker/espresso-prettier"},"https://github.com/eablokker/espresso-prettier"))),(0,i.kt)("h3",{id:"nova"},"Nova:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://extensions.panic.com/extensions/alexanderweiss/alexanderweiss.prettier"},"https://extensions.panic.com/extensions/alexanderweiss/alexanderweiss.prettier"))),(0,i.kt)("h3",{id:"sublime-text"},"Sublime Text:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://packagecontrol.io/packages/JsPrettier"},"https://packagecontrol.io/packages/JsPrettier"))),(0,i.kt)("h3",{id:"vim"},"Vim:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/prettier/vim-prettier"},"https://github.com/prettier/vim-prettier")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/sbdchd/neoformat"},"https://github.com/sbdchd/neoformat")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/w0rp/ale"},"https://github.com/w0rp/ale")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/neoclide/coc-prettier"},"https://github.com/neoclide/coc-prettier"))),(0,i.kt)("h3",{id:"visual-studio"},"Visual Studio"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/madskristensen/JavaScriptPrettier"},"https://github.com/madskristensen/JavaScriptPrettier"))),(0,i.kt)("h3",{id:"vs-code"},"VS Code"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/prettier/prettier-vscode"},"https://github.com/prettier/prettier-vscode"))),(0,i.kt)("h3",{id:"webstorm"},"WebStorm"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://prettier.io/docs/en/webstorm.html"},"https://prettier.io/docs/en/webstorm.html"))))}h.isMDXComponent=!0}}]);